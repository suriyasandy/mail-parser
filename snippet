# At the top of app.py, add:
from utils.summarizer import summarize_by_frequency

# â€¦

if uploaded or demo_text.strip():
    # â€¦ after cleaning â€¦
    cleaned = clean_text(text_body)
    st.subheader("Cleaned Email Text")
    st.code(cleaned)

    # --- New: Frequencyâ€based Thread Summary ---
    st.subheader("ğŸ“„ Thread Summary")
    summary_sents = summarize_by_frequency(cleaned, top_n=3)
    if summary_sents:
        for s in summary_sents:
            st.write("â€¢ " + s)
    else:
        st.write("â€”No summary availableâ€”")

    # â€¦ rest of your code (keywords, tables, extraction, etc.) â€¦
