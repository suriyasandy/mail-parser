from utils.email_cleaner import strip_email_headers_and_footers
# (rest of your imports...)

def clean_and_split_sentences(text: str) -> list:
    """
    Preprocess and split email text into clean sentences.
    """
    if not text:
        return []

    # Step 1: Remove headers/footers
    text = strip_email_headers_and_footers(text)

    # Step 2: Normalize newlines/spaces
    text = text.replace('\r\n', '\n').replace('\r', '\n')
    text = re.sub(r'\n{2,}', '\n', text)
    text = re.sub(r'[ \t]+', ' ', text)

    # Step 3: Sentence tokenize
    raw_sentences = sent_tokenize(text)
    return [s.strip() for s in raw_sentences if len(s.strip()) > 2]
